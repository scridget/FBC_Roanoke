<?php
/**
 * SVG Icons class
 *
 * @package Mygrace
 * @since 1.0.0
 */

/**
 * This class is in charge of displaying SVG icons across the site.
 *
 * Place each <svg> source on its own array key, without adding the
 * both `width` and `height` attributes, since these are added dynamically,
 * before rendering the SVG code.
 *
 * All icons are assumed to have equal width and height, hence the option
 * to only specify a `$size` parameter in the svg methods.
 *
 * @since 1.0.0
 */
class Mygrace_Core_SVG_Icons {

	/**
	 * Gets the SVG code for a given icon.
	 *
	 * @since  1.0.0
	 * @param  string $icon          Icon name.
	 * @param  array|string $classes Additional CSS classes
	 * @return null|string
	 */
	public static function get_svg( $icon = '', $classes = array() ) {
		$arr = self::$ui_icons;

		$classes   = (array) $classes;
		$classes[] = 'svg-icon';

		if ( array_key_exists( $icon, $arr ) ) {
			$repl = sprintf( '<svg class="%s" aria-hidden="true" role="img" focusable="false" ', join( ' ', $classes ) );
			$svg  = preg_replace( '/^<svg /', $repl, trim( $arr[ $icon ] ) ); // Add extra attributes to SVG code.
			$svg  = preg_replace( "/([\n\t]+)/", ' ', $svg ); // Remove newlines & tabs.
			$svg  = preg_replace( '/>\s*</', '><', $svg ); // Remove white space between SVG tags.

			return $svg;
		}

		return null;
	}

	/**
	 * User Interface icons â€“ svg sources.
	 *
	 * @since 1.0.0
	 * @var   array
	 */
	static $ui_icons = array(
		'facebook' => '<svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
		<path d="M8.4375 5.15625V3.28125C8.4375 2.76375 8.8575 2.34375 9.375 2.34375H10.3125V0H8.4375C6.88406 0 5.625 1.25906 5.625 2.8125V5.15625H3.75V7.5H5.625V15H8.4375V7.5H10.3125L11.25 5.15625H8.4375Z"/>
		</svg>',
		'twitter' => '<svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
			<g clip-path="url(#clip0)">
			<path d="M15 2.84906C14.4422 3.09375 13.8478 3.25594 13.2281 3.33469C13.8656 2.95406 14.3522 2.35594 14.5809 1.635C13.9866 1.98937 13.3303 2.23969 12.6309 2.37938C12.0666 1.77844 11.2622 1.40625 10.3847 1.40625C8.68219 1.40625 7.31156 2.78813 7.31156 4.48219C7.31156 4.72594 7.33219 4.96031 7.38281 5.18344C4.82625 5.05875 2.56406 3.83344 1.04437 1.96688C0.779062 2.42719 0.623438 2.95406 0.623438 3.52125C0.623438 4.58625 1.17188 5.53031 1.98937 6.07687C1.49531 6.0675 1.01063 5.92406 0.6 5.69812C0.6 5.7075 0.6 5.71969 0.6 5.73187C0.6 7.22625 1.66594 8.4675 3.06375 8.75344C2.81344 8.82188 2.54063 8.85469 2.2575 8.85469C2.06063 8.85469 1.86187 8.84344 1.67531 8.80219C2.07375 10.02 3.20438 10.9153 4.54875 10.9444C3.5025 11.7628 2.17406 12.2559 0.735938 12.2559C0.48375 12.2559 0.241875 12.2447 0 12.2137C1.36219 13.0922 2.97656 13.5938 4.7175 13.5938C10.3763 13.5938 13.47 8.90625 13.47 4.84312C13.47 4.70719 13.4653 4.57594 13.4587 4.44563C14.0691 4.0125 14.5819 3.47156 15 2.84906Z"/>
			</g>
			<defs>
			<clipPath id="clip0">
			<rect width="15" height="15" fill="white"/>
			</clipPath>
			</defs>
			</svg>',

		'pinterest' 	=> '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 0C8.61979 0 7.31771 0.260417 6.09375 0.78125C4.88281 1.30208 3.82161 2.01823 2.91016 2.92969C2.01172 3.82812 1.30208 4.88932 0.78125 6.11328C0.260417 7.32422 0 8.61979 0 10C0 11.0547 0.15625 12.0703 0.46875 13.0469C0.78125 14.0104 1.21745 14.8958 1.77734 15.7031C2.33724 16.5104 3.00781 17.2266 3.78906 17.8516C4.57031 18.4635 5.42318 18.9518 6.34766 19.3164C6.30859 18.9128 6.28255 18.444 6.26953 17.9102C6.25651 17.3633 6.29557 16.875 6.38672 16.4453C6.4388 16.25 6.52344 15.8854 6.64062 15.3516C6.77083 14.8047 6.90104 14.2448 7.03125 13.6719C7.17448 13.099 7.29818 12.5911 7.40234 12.1484C7.50651 11.6927 7.55859 11.4648 7.55859 11.4648C7.55859 11.4648 7.50651 11.3281 7.40234 11.0547C7.3112 10.7812 7.26562 10.4232 7.26562 9.98047C7.26562 9.29036 7.44141 8.71745 7.79297 8.26172C8.14453 7.79297 8.57422 7.55859 9.08203 7.55859C9.4987 7.55859 9.8112 7.70182 10.0195 7.98828C10.2279 8.26172 10.332 8.58724 10.332 8.96484C10.332 9.39453 10.2279 9.90885 10.0195 10.5078C9.82422 11.1068 9.65495 11.7057 9.51172 12.3047C9.39453 12.7995 9.48568 13.2227 9.78516 13.5742C10.0977 13.9258 10.5013 14.1016 10.9961 14.1016C11.4388 14.1016 11.849 13.9909 12.2266 13.7695C12.6172 13.5482 12.9492 13.2357 13.2227 12.832C13.5091 12.4284 13.7305 11.9466 13.8867 11.3867C14.056 10.8268 14.1406 10.2083 14.1406 9.53125C14.1406 8.93229 14.0365 8.38542 13.8281 7.89062C13.6198 7.38281 13.3333 6.95312 12.9688 6.60156C12.6042 6.23698 12.1615 5.95703 11.6406 5.76172C11.1328 5.55339 10.5729 5.44922 9.96094 5.44922C9.24479 5.44922 8.60677 5.57292 8.04688 5.82031C7.48698 6.06771 7.01172 6.39323 6.62109 6.79688C6.24349 7.20052 5.95052 7.66276 5.74219 8.18359C5.54688 8.70443 5.44922 9.24479 5.44922 9.80469C5.44922 10.2344 5.52083 10.6576 5.66406 11.0742C5.80729 11.4909 5.98307 11.8229 6.19141 12.0703C6.23047 12.1224 6.25 12.1745 6.25 12.2266C6.26302 12.2656 6.26302 12.3112 6.25 12.3633C6.21094 12.5195 6.15885 12.7344 6.09375 13.0078C6.02865 13.2682 5.98958 13.431 5.97656 13.4961C5.95052 13.5872 5.91146 13.6458 5.85938 13.6719C5.80729 13.6849 5.73568 13.6719 5.64453 13.6328C5.01953 13.3464 4.52474 12.8125 4.16016 12.0312C3.79557 11.25 3.61328 10.4948 3.61328 9.76562C3.61328 8.97135 3.75651 8.20964 4.04297 7.48047C4.32943 6.7513 4.74609 6.10677 5.29297 5.54688C5.85286 4.98698 6.54297 4.54427 7.36328 4.21875C8.18359 3.88021 9.13411 3.71094 10.2148 3.71094C11.0872 3.71094 11.8945 3.86068 12.6367 4.16016C13.3919 4.44661 14.043 4.85026 14.5898 5.37109C15.1497 5.87891 15.5859 6.48438 15.8984 7.1875C16.224 7.89062 16.3867 8.65885 16.3867 9.49219C16.3867 10.3516 16.2565 11.1589 15.9961 11.9141C15.7357 12.6693 15.3776 13.3268 14.9219 13.8867C14.4661 14.4466 13.9193 14.8893 13.2812 15.2148C12.6432 15.5404 11.9466 15.7031 11.1914 15.7031C10.6836 15.7031 10.2148 15.5924 9.78516 15.3711C9.35547 15.1367 9.0625 14.8633 8.90625 14.5508C8.90625 14.5508 8.8151 14.8893 8.63281 15.5664C8.46354 16.2435 8.34635 16.6992 8.28125 16.9336C8.16406 17.3633 7.97526 17.8255 7.71484 18.3203C7.46745 18.8151 7.23958 19.2253 7.03125 19.5508C7.5 19.694 7.98177 19.8047 8.47656 19.8828C8.97135 19.9609 9.47917 20 10 20C11.3802 20 12.6758 19.7396 13.8867 19.2188C15.1107 18.6979 16.1719 17.9883 17.0703 17.0898C17.9818 16.1784 18.6979 15.1172 19.2188 13.9062C19.7396 12.6823 20 11.3802 20 10C20 8.61979 19.7396 7.32422 19.2188 6.11328C18.6979 4.88932 17.9818 3.82812 17.0703 2.92969C16.1719 2.01823 15.1107 1.30208 13.8867 0.78125C12.6758 0.260417 11.3802 0 10 0Z"/></svg>',

		'linkedin' 		=> '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1792 1792"><path d="M477 625v991h-330v-991h330zm21-306q1 73-50.5 122t-135.5 49h-2q-82 0-132-49t-50-122q0-74 51.5-122.5t134.5-48.5 133 48.5 51 122.5zm1166 729v568h-329v-530q0-105-40.5-164.5t-126.5-59.5q-63 0-105.5 34.5t-63.5 85.5q-11 30-11 81v553h-329q2-399 2-647t-1-296l-1-48h329v144h-2q20-32 41-56t56.5-52 87-43.5 114.5-15.5q171 0 275 113.5t104 332.5z"></path></svg>',

		'telegram' => '<svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
			<g clip-path="url(#clip0)">
			<path d="M5.88574 9.48813L5.63761 12.9781C5.99261 12.9781 6.14636 12.8256 6.33074 12.6425L7.99511 11.0519L11.4439 13.5775C12.0764 13.93 12.522 13.7444 12.6926 12.9956L14.9564 2.38813L14.957 2.38751C15.1576 1.45251 14.6189 1.08688 14.0026 1.31626L0.696361 6.41063C-0.211764 6.76313 -0.198014 7.26938 0.541986 7.49876L3.94386 8.55688L11.8457 3.61251C12.2176 3.36626 12.5557 3.50251 12.2776 3.74876L5.88574 9.48813Z"/>
			</g>
			<defs>
			<clipPath id="clip0">
			<rect width="15" height="15" fill="white"/>
			</clipPath>
			</defs>
			</svg>',
	);
}

/**
 * Gets the SVG code for a given icon.
 *
 * @since  1.0.0
 * @param  string $icon          Icon name.
 * @param  array|string $classes Additional CSS classes
 * @return null|string
 */
function mygrace_core_get_icon_svg( $icon = '', $classes = array() ) {
	return Mygrace_Core_SVG_Icons::get_svg( $icon, $classes );
}
